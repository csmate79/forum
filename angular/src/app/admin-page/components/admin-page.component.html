<!-- src/app/admin/admin.component.html -->
<div class="admin-page">
  <h1>Admin Page</h1>
  <mat-form-field>
    <mat-label>Select Role</mat-label>
    <mat-select (selectionChange)="onRoleChange($event.value)">
      <mat-option *ngFor="let role of roles" [value]="role.id">
        {{ role.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div *ngIf="selectedRole">
    <h2>Role: {{ selectedRole.name }}</h2>
    <p>Permissions: {{ selectedRole.rights }}</p>

    <form [formGroup]="roleForm" (ngSubmit)="updateRole()">
      <h2>Edit Role: {{ selectedRole.name }}</h2>

      <mat-form-field appearance="fill">
        <mat-label>Role Name</mat-label>
        <input matInput formControlName="name" required />
      </mat-form-field>

      <div>
        <mat-checkbox formControlName="readComments"
          >Read Comments</mat-checkbox
        >
      </div>
      <div>
        <mat-checkbox formControlName="addDeleteComments"
          >Add/Delete Comments</mat-checkbox
        >
      </div>
      <div>
        <mat-checkbox formControlName="addDeleteTopics"
          >Add/Delete Topics</mat-checkbox
        >
      </div>
      <div>
        <mat-checkbox formControlName="deleteOthers"
          >Delete Others' Comments/Topics</mat-checkbox
        >
      </div>

      <button type="submit" mat-raised-button color="primary">Save</button>
    </form>

    <div class="user-lists">
      <div>
        <h3>Users in this Role</h3>
        <ul>
          <li *ngFor="let user of roleUsers">
            {{ user.name }}
            <button (click)="removeUserFromRole(user.id)">Remove</button>
          </li>
        </ul>
      </div>
      <div>
        <h3>Other Users</h3>
        <ul>
          <li *ngFor="let user of otherUsers">
            {{ user.name }}
            <button (click)="addUserToRole(user.id)">Add</button>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
